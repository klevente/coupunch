# Todo List

- [x] Create ViewModel-based data handling on frontend
  - [x] Create ViewModels for each page, as per the presentation
  - [x] Expose functions and data which the page can use
- [x] Create generic sortable table view
  - [x] Create table header component with column name and sorting key props
- [x] Rework Checkout UI:
  - [x] Make max-width larger (on iPad it should stretch fully)
  - [x] Split Products and Coupons
  - [x] Create searchable table view for displaying data - maybe generic?
  - [x] Create Product selector modal for reward selection
  - [x] Create finalising modal detailing redeemed rewards
  - [x] Redesign basket as per wireframe
- [x] Implement Product handling on backend
  - [x] Review entity class
  - [x] Implement the service layer
  - [x] Implement the controller layer
  - [x] Wire up endpoints to frontend
- [x] Implement Product Group handling on backend
  - [x] Review entity class
  - [x] Implement the service layer
  - [x] Implement the controller layer
  - [x] Wire up endpoints to frontend
- [x] Implement User search
  - [x] Create new User search modal on frontend
  - [x] Implement new User search on backend (usermanager)
  - [x] Implement existing user search on backend (couponmanager)
- [x] Implement QR search
  - [x] Implement QR-code scanning on frontend
  - [x] Implement search by QR on backend
  - [x] Come up with better QR-generation logic (generating UUID for each user, can be regenerated)
- [ ] Finish Products Page
  - [ ] Add an optional Product Icon
  - [x] Add a selector for choosing a Product Group for a Product
  - [x] Redesign Product and Product Group rows as per wireframe
- [ ] Create Reports Page
  - [x] Find library for managing charts
  - [x] Find a solution for aggregating data in a separate service
  - [x] Try InfluxDB
    - [x] Create couponmanager organization
    - [x] Add some test data
    - [x] Try out dashboard
    - [x] Come up with data schema: coupon redeeming, product purchased
    - [x] Add iframe
    - [x] Add customizable iframe link for different companies
    - [x] Add data collection
  - [x] Try Metabase
  - [ ] ~~Try Redash~~
  - [ ] Create sample reports
    - [x] What is the distribution of redeemed coupons
    - [ ] What is the frequency of coupon redeeming
    - [ ] What products are bought frequently
    - [ ] How much money do the users spend
- [ ] Create Customer UI
  - [x] Add Company list page
  - [x] Add Company Coupons page
  - [x] Add Coupon detail page
  - [x] Design Progress Indicator
  - [x] Add Profile page (QR-generation)
  - [x] Add QR-export page
  - [x] Implement coupon redeeming on coupon list page
  - [x] Implement reward choose dialog for redeeming
  - [x] Implement QR-generation for redeeming coupons
  - [x] Redesign Coupon details
    - [x] Product Groups can be toggled open, showing their products instead of a Dialog
    - [x] Come up with a better way of showing which reward level is open at the moment
    - [x] Remove Table headers as they are unnecessary
    - [x] Try out Tables without borders - does not really work
- [x] Create Customer backend functionality
  - [x] Implement fetching of company list
  - [x] Implement fetching of company coupons
  - [x] Implement fetching of a company coupon
- [x] Implement inter-service communication
  - [x] Research RabbitMQ best practices, message formats and architecture
  - [x] Notify the User's Companies when their data (username, qr-code) is updated
  - [x] Notify the User's Company list if the User is added to that company
  - [x] Notify the User's Company list if a company's information (name, url) has been changed
  - [x] Notify the Reports service of each new transaction, so it can add data to the data lake
  - [x] Create update forcer buttons and logic for each action so that they can be manually retried in case of a failure
- [ ] Implement Better error handling
  - [ ] Send back the problematic fields on updating events so that the form can show it to the user
  - [ ] Send back status messages which can be translated into human-readable error messages on the frontend
- [ ] Handle deployment
  - [ ] Come up with creating Docker images easily
  - [ ] Implement startup logic for new instances
  - [ ] Orchestrate containers to work together
  - [ ] Implement Gateway logic for handling the startup and shutdown of company instances
- [ ] Create Documentation